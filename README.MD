# Репозиторий для gitlab ci. Разворачивает сайт на wordpress.
Runner через Docker контейнер запускает ansible playbook, который копирует на web-сервер папку wordpress и восстанавливает на mysql сервере базу данных.

## Файлы
- .gitlab-ci.yml - конфигурация сборки.
- Dockerfile - конфигурация образа, который подгружаетсяя в сборке из моего репозитория.
- prod.yml - inventory файл для playbook. Данные из него необходимо скопировать в переменные проекта ci/cd (или укажите свои).
- site.yml - playbook для развертывания сайта на worpress.
- wordpress.tar.xz - архив с файлами wordpress (используйте свой для Вашего сайта).
- wordpress_dump.sql - dump базы данных worpress (используйте свой для Вашего сайта).

## Перед запуском
- Добавить свой inventory в переменные ci/cd проекта как файл с именем PROD_YML.
- Добавить свой закрытый ключ ssh в переменные ci/cd проета как переменную с именем SSHKEY.

## Совместимость
- Playbook тестировался на Ubuntu 20.04 и Ansible core 2.13.1. В более ранних версиях Ansible может возникать ошибка в task для mysql.